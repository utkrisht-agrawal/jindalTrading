<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Jindal Trading | Dashboard</title>

	<!-- Global stylesheets -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


	<link href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900" rel="stylesheet" type="text/css">
	<link href="global_assets/css/icons/icomoon/styles.min.css" rel="stylesheet" type="text/css">
	<link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">

	<link href="assets/css/bootstrap_limitless.min.css" rel="stylesheet" type="text/css">
	<link href="assets/css/layout.min.css" rel="stylesheet" type="text/css">
	<link href="assets/css/components.min.css" rel="stylesheet" type="text/css">
	<link href="assets/css/colors.min.css" rel="stylesheet" type="text/css">
	<!-- /global stylesheets -->

	<!-- Core JS files -->
	<script src="global_assets/js/main/jquery.min.js"></script>
	<script src="global_assets/js/main/bootstrap.bundle.min.js"></script>
	<script src="global_assets/js/plugins/loaders/blockui.min.js"></script>
	<!-- /core JS files -->

	<!-- Theme JS files -->
	<script src="global_assets/js/plugins/visualization/d3/d3.min.js"></script>
	<script src="global_assets/js/plugins/visualization/d3/d3_tooltip.js"></script>
	<script src="global_assets/js/plugins/forms/styling/switchery.min.js"></script>
	<script src="global_assets/js/plugins/ui/moment/moment.min.js"></script>
	<script src="global_assets/js/plugins/pickers/daterangepicker.js"></script>

	<script src="global_assets/js/plugins/tables/datatables/datatables.min.js"></script>

	<script src="global_assets/js/plugins/forms/styling/uniform.min.js"></script>
	<script src="global_assets/js/plugins/notifications/pnotify.min.js"></script>
	<script src="global_assets/js/plugins/forms/selects/bootstrap_multiselect.js"></script>

	<script src="assets/js/app.js"></script>
	<script src="global_assets/js/demo_pages/dashboard.js"></script>
	<script src="global_assets/js/demo_pages/datatables_basic.js"></script>
	<script src="global_assets/js/demo_pages/form_multiselect.js"></script>
	<!-- /theme JS files -->

	<style>
		.tab-content {
    overflow: auto;
}
	</style>

</head>


<body>

	<!-- Main navbar -->
	<div class="navbar navbar-expand-md navbar-dark">
		<div class="navbar-brand">
			<a href="index.html" class="d-inline-block">
				<img src="../../../../global_assets/images/logo_light.png" alt="">
			</a>
		</div>

		<div class="d-md-none">
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-mobile">
				<i class="icon-tree5"></i>
			</button>
			<button class="navbar-toggler sidebar-mobile-main-toggle" type="button">
				<i class="icon-paragraph-justify3"></i>
			</button>
		</div>

		<div class="collapse navbar-collapse" id="navbar-mobile">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a href="#" class="navbar-nav-link sidebar-control sidebar-main-toggle d-none d-md-block">
						<i class="icon-paragraph-justify3"></i>
					</a>
				</li>
			</ul>

			<span class="badge bg-success ml-md-3 mr-md-auto">Online</span>

			<ul class="navbar-nav">

				<li class="nav-item dropdown dropdown-user">
					<a href="#" class="navbar-nav-link d-flex align-items-center dropdown-toggle" data-toggle="dropdown">
						<img src="../../../../global_assets/images/demo/users/face11.jpg" class="rounded-circle mr-2" height="34" alt="">
						<span><%=username%></span>
					</a>

					<div class="dropdown-menu dropdown-menu-right">
						<a href="#" class="dropdown-item"><i class="icon-user-plus"></i> My profile</a>
						<a href="#" class="dropdown-item"><i class="icon-comment-discussion"></i> Messages <span class="badge badge-pill bg-blue ml-auto">58</span></a>
						<div class="dropdown-divider"></div>
						<a href="/logout" class="dropdown-item"><i class="icon-switch2"></i> Logout</a>
					</div>
				</li>
			</ul>
		</div>
	</div>
	<!-- /main navbar -->


	<!-- Page content -->
	<div class="page-content">

		<!-- Main sidebar -->
		<div class="sidebar sidebar-dark sidebar-main sidebar-expand-md">

			<!-- Sidebar mobile toggler -->
			<div class="sidebar-mobile-toggler text-center">
				<a href="#" class="sidebar-mobile-main-toggle">
					<i class="icon-arrow-left8"></i>
				</a>
				Navigation
				<a href="#" class="sidebar-mobile-expand">
					<i class="icon-screen-full"></i>
					<i class="icon-screen-normal"></i>
				</a>
			</div>
			<!-- /sidebar mobile toggler -->


			<!-- Sidebar content -->
			<div class="sidebar-content">

				<!-- User menu -->
				<div class="sidebar-user">
					<div class="card-body">
						<div class="media">
							<div class="mr-3">
								<a href="#"><img src="../../../../global_assets/images/demo/users/face11.jpg" width="38" height="38" class="rounded-circle" alt=""></a>
							</div>

							<div class="media-body">
								<div class="media-title font-weight-semibold"><%=username%></div>
								<div class="font-size-xs opacity-50">
									<i class="icon-pin font-size-sm"></i> &nbsp;Meerut
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- /user menu -->


				<!-- Main navigation -->
				<div class="card card-sidebar-mobile">
					<ul class="nav nav-sidebar" data-nav-type="accordion">

						<li class="nav-item-header"><div class="text-uppercase font-size-xs line-height-xs">Main</div> <i class="icon-menu" title="Main"></i></li>
						<li class="nav-item nav-item-submenu">
							<a href="/userDashboard" class="nav-link">
								<i class="icon-home4"></i>
								<span>
									Dashboard
								</span>
							</a>
							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="/register" class="nav-link">User-Register</a></li>
							</ul>
							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="/registeredUsers" class="nav-link">Register-List</a></li>
							</ul>
						</li>

						<li class="nav-item nav-item-submenu">
							<a href="#" class="nav-link"><i class="icon-copy"></i> <span>Market-Plan</span></a>

							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="/marketPlanPigIron" class="nav-link">Pig-Iron</a></li>
							</ul>
							
							<!-- <ul class="nav nav-group-sub" data-submenu-title="Layouts">
							   <li class="nav-item"><a href="/marketPlanAllotment" class="nav-link">Allotment</a></li>
						    </ul> -->
							
							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="/marketPlanQuantityLedger" class="nav-link">QuantityLedger</a></li>
							</ul>
						</li>

						<li class="nav-item nav-item-submenu ">
							<a href="#" class="nav-link"><i class="icon-copy"></i> <span>Master</span></a>

							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="/masterArea" class="nav-link">MasterArea</a></li>
								<li class="nav-item"><a href="/masterCategories" class="nav-link">MasterCategories</a></li>
								<li class="nav-item"><a href="/masterGrade" class="nav-link">MasterGrade</a></li>
								<li class="nav-item"><a href="/masterProducts" class="nav-link">MasterProducts</a></li>
								<li class="nav-item"><a href="/masterProductGroup" class="nav-link">MasterProductGroup</a></li>
								<li class="nav-item"><a href="/masterTeams" class="nav-link">MasterTeams</a></li>
							</ul>
						</li>
						<li class="nav-item nav-item-submenu nav-item-expanded nav-item-open">
							<a href="#" class="nav-link active"><i class="icon-copy"></i> <span>Customers</span></a>
							
							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="/masterCustomer" class="nav-link active">MasterCustomer</a></li>
								<li class="nav-item"><a href="/masterFirm" class="nav-link">MasterFirm</a></li>
								<li class="nav-item nav-item-submenu ">
									<a href="#" class="nav-link"><i class="icon-copy"></i> <span>Datatables</span></a>
									<ul class="nav nav-group-sub" data-submenu-title="Layouts">
										<li class="nav-item"><a href="/customerContact" class="nav-link">Contact</a></li>
										<li class="nav-item"><a href="/customerCategory" class="nav-link">Categories</a></li>
										<li class="nav-item"><a href="/customerFirm" class="nav-link">Firms</a></li>
										<li class="nav-item"><a href="/customerProduct" class="nav-link">Products</a></li>
									</ul>
								</li>
								
							</ul>
						</li>
						<li class="nav-item nav-item-submenu">
							<a href="#" class="nav-link"><i class="icon-copy"></i> <span>Transport</span></a>

							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="/transportDetails" class="nav-link">Details</a></li>
								<li class="nav-item"><a href="/transportContacts" class="nav-link">Contacts</a></li>
								<li class="nav-item"><a href="/transportStations" class="nav-link">Stations</a></li>
								<li class="nav-item"><a href="/transportTrucks" class="nav-link">Trucks</a></li>
							</ul>
						</li>
						<li class="nav-item nav-item-submenu">
							<a href="#" class="nav-link"><i class="icon-copy"></i> <span>Vendor</span></a>
							
							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="/masterVendors" class="nav-link">MasterVendors</a></li>
								<li class="nav-item"><a href="/vendorContacts" class="nav-link">Contacts</a></li>
								<li class="nav-item"><a href="/vendorFirm" class="nav-link">Firm</a></li>
								<li class="nav-item"><a href="/vendorProduct" class="nav-link">Product</a></li>
							</ul>
						</li>
						<li class="nav-item nav-item-submenu">
							<a href="#" class="nav-link"><i class="icon-copy"></i> <span>Employee</span></a>
							
							<ul class="nav nav-group-sub" data-submenu-title="Layouts">
								<li class="nav-item"><a href="/masterEmployee" class="nav-link">MasterEmployee</a></li>
							</ul>
						</li>
						<li class="nav-item nav-item-submenu">
							<a href="/contacts" class="nav-link"><i class="icon-copy"></i> <span>Contacts</span></a>
						</li>
					</ul>
				</div>
				<!-- /main navigation -->

			</div>
			<!-- /sidebar content -->
			
		</div>
		<!-- /main sidebar -->


		<!-- Main content -->
		<div class="content-wrapper">

			<!-- Page header -->
			<div class="page-header page-header-light">
				<div class="page-header-content header-elements-md-inline">
					<div class="page-title d-flex">
						<h4><i class="icon-arrow-left52 mr-2"></i> <span class="font-weight-semibold">Master Customers</span> - Master</h4>
						<a href="#" class="header-elements-toggle text-default d-md-none"><i class="icon-more"></i></a>
					</div>
				</div>
			</div>
			<!-- /page header -->


			<!-- Content area -->
			<div class="content">

				<!-- Dashboard content -->
				<div class="row">
					<div class="col-md-12">
						<div class="card" style="overflow-x: auto;">
							
							<div class="errInfo" id="errInfo" style=" background-color: rgb(255, 0, 0); margin: 1%;">
							<%= console.log("msssssssssssssssssssssssssss" , msg)  %>
								<% if(msg){ %>
									<h6 style="text-align: center; font-weight: 600"><%=msg%></h6>
								<% } %>
							</div>
							
							<div class="card-header header-elements-inline">
								<h5 class="card-title">Master Customers</h5>
								<% if(level>=1) {%>
									<button onclick="validation()" type="button"  class="btn btn-light" data-toggle="modal" data-target="#modal_form_vertical">Add new Master Customer</button></td>
									
								<%}%>
								<div class="header-elements">
									<div class="list-icons">
										<a class="list-icons-item" data-action="collapse"></a>
										<a class="list-icons-item" data-action="reload"></a>
										<a class="list-icons-item" data-action="remove"></a>
									</div>
								</div>
							</div>

							<% if(data.length>0) {%>
    
								<table class="table datatable-basic table-bordered table-striped table-hover">
									
									<thead>
										<tr>
											<th>customerName</th>
											<th>category</th>
											<th>AREA</th>
											<th>STATUS</th>
											<th>CustomerStatus</th>
											<th>GRADE</th>
											<th>PIN_CODE</th>
											<th>ADDRESS</th>
											<th>REF_NO_1</th>
											<th>reference1ContactNumber</th>
											<th>REF_NO_2</th>
											<th>reference2ContactNumber</th>
											<th>CREDIT_LIMIT</th>
											<th>CREDIT_DAYS</th>
											<% if(level>2) {%>
												<th>Edit</th>
												<th>Delete</th>
												<th>PRINT</th>
											<%}else if(level>1){%>
												<th>Edit</th>
											<%}else{%>
											<%}%>
										</tr>
									</thead >
									
									<% for(var i=0; i<data.length; i++) {%>
										<%if(data[i].status=='VERIFIED') {%>
										<tr class="<%= data[i].customerId%>customer">
											<%if(level==1) {%>
												<td class="customerName" ><%= data[i].customerName%></td>
												<td class="custCateg">
 														<% for (var a = 0; a < custCateg.length; a++) { %>
															<% if (custCateg[a].customerName == data[i].customerId) { %>
															  <%=custCateg[a].category %>
															  <% for (var b = 0; b < categorydata.length; b++) { %>
																<% if (custCateg[a].category == categorydata[b].categoriesId) { %>
																  <%=categorydata[b].categoriesType %>
																  <% console.log("customer data1234" ,categorydata[b].categoriesType) %>
																<% } %>
														   <% } %>
															 <% } %>
													   <% } %>
													  
												</td>
												<td class="area">
													<% for (var a = 0; a < areaData.length; a++) { %>
													  	<% if (areaData[a].areaId == data[i].area) { %>
															<%=areaData[a].area %>
													  	<% } %>
													<% } %>
												</td>
												<td class="status" ><%= data[i].status%></td>
												<td class="Customerstatus"><%= data[i].CustomerStatus%></td>
												<td class="grade" >
													<% for (var a = 0; a < gradeData.length; a++) { %>
														<% if (gradeData[a].gradeId == data[i].grade) { %>
														  	<%=gradeData[a].gradeType %>
														<% } %>
													  <% } %>
												</td>
												<td class="pincode" ><%= data[i].pincode%></td>
												<td class="address" ><%= data[i].address%></td>
												<td class="referenceNumber1" ><%= data[i].referenceNumber1%></td>
												<td class="reference1ContactNumber" ><%= data[i].reference1ContactNumber%></td>
												<td class="referenceNumber2" ><%= data[i].referenceNumber2%></td>
												<td class="reference2ContactNumber" ><%= data[i].reference2ContactNumber%></td>
												<td class="creditLimit" ><%= data[i].creditLimit%></td>
												<td class="creditDays" ><%= data[i].creditDays%></td>
											<%} else if(level>2) {%>
												<td class="customerName"><button type="button" class="btn btn-light" data-toggle="modal" onclick="custInfo('<%= data[i].customerId%>')" data-target="#customer_information"><%= data[i].customerName%></button></td>
												<td class="custCateg">
													<% for (var a = 0; a < custCateg.length; a++) { %>
													   <% if (custCateg[a].customerName == data[i].customerId) { %>
 														 <% for (var b = 0; b < categorydata.length; b++) { %>
														   <% if (custCateg[a].category == categorydata[b].categoriesId) { %>
															 <%=categorydata[b].categoriesType %>  
															 <% console.log("customer data1234" ,categorydata[b].categoriesType) %>
														   <% } %>
													  <% } %>
														<% } %>
												  <% } %>												 
										   </td>
												<td class="area">
													<% for (var a = 0; a < areaData.length; a++) { %>
													  	<% if (areaData[a].areaId == data[i].area) { %>
															<%=areaData[a].area %>
													  	<% } %>
													<% } %>
												</td>
												<td class="status"><%= data[i].status%></td>
												<td class="CustomerStatus"><%= data[i].CustomerStatus%></td>
												<td class="grade">
													<% for (var a = 0; a < gradeData.length; a++) { %>
														<% if (gradeData[a].gradeId == data[i].grade) { %>
														  	<%=gradeData[a].gradeType %>
														<% } %>
													  <% } %>
												</td>
												<td class="pincode"><%= data[i].pincode%></td>
												<td class="address"><%= data[i].address%></td>
												<td class="referenceNumber1"><%= data[i].referenceNumber1%></td>
												<td class="reference1ContactNumber" ><%= data[i].reference1ContactNumber%></td>
												<td class="referenceNumber2" ><%= data[i].referenceNumber2%></td>
												<td class="reference2ContactNumber" ><%= data[i].reference2ContactNumber%></td>
												<td class="creditLimit"><%= data[i].creditLimit%></td>
												<td class="creditDays"><%= data[i].creditDays%></td>
												<td>
													<button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal_edit" data-popup="popover" onclick="eedit('<%= data[i].customerId%>customer')">Edit</button>
												</td>
												<td >
													<button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal_del" data-popup="popover" onclick="ddel('<%= data[i].customerId%>customer')">Delete</button>
												</td>
												<td >
													<button type="button" class="btn btn-light"     onclick="printMasterCustomer('<%= data[i].customerId%>customer')">print</button>
 
												</td>
											<%}else if(level>1){%>
												<td class="customerName"><%= data[i].customerName%></td>
												<td class="custCateg">
													<% for (var a = 0; a < custCateg.length; a++) { %>
													   <% if (custCateg[a].customerName == data[i].customerId) { %>
														 <%=custCateg[a].category %>
														 <% for (var b = 0; b < categorydata.length; b++) { %>
														   <% if (custCateg[a].category == categorydata[b].categoriesId) { %>
															 <%=categorydata[b].categoriesType %>
															 <% console.log("customer data1234" ,categorydata[b].categoriesType) %>
														   <% } %>
													  <% } %>
														<% } %>
												  <% } %>
												 
										   </td>
												<td class="area">
													<% for (var a = 0; a < areaData.length; a++) { %>
													  	<% if (areaData[a].areaId == data[i].area) { %>
															<%=areaData[a].area %>
													  	<% } %>
													<% } %>
												</td>
												<td class="status"><%= data[i].status%></td>
												<td class="CustomerStatus"><%= data[i].CustomerStatus%></td>
												<td class="grade">
													<% for (var a = 0; a < gradeData.length; a++) { %>
														<% if (gradeData[a].gradeId == data[i].grade) { %>
														  <%=gradeData[a].gradeType %>
														<% } %>
													  <% } %>
												</td>
												<td class="pincode"><%= data[i].pincode%></td>
												<td class="address"><%= data[i].address%></td>
												<td class="referenceNumber1"><%= data[i].referenceNumber1%></td>
												<td class="reference1ContactNumber" ><%= data[i].reference1ContactNumber%></td>
												<td class="referenceNumber2" ><%= data[i].referenceNumber2%></td>
												<td class="reference2ContactNumber" ><%= data[i].reference2ContactNumber%></td>
												<td class="creditLimit"><%= data[i].creditLimit%></td>
												<td class="creditDays"><%= data[i].creditDays%></td>
												<td>
													<button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal_edit" data-popup="popover" onclick="eedit('<%= data[i].customerId%>customer')" >Edit</button>
												</td>
											<%}%>
										</tr>
										<% } %>
									<% } %>
								</table>
							
							<%}else{%>
								<h4>No new data</h4>
							<%}%>
							
							
								
							<div class="card" style="overflow-x: auto;"></div>
								<h3>Unverified Customer</h3>	


								<% if(data.length>0) {%>
		
									<table class="table datatable-basic table-bordered table-striped table-hover">
										
										<thead>
											<tr>
												<th>customerName</th>
												<th>category</th>
												<th>AREA</th>
												<th>STATUS</th>
												<th>CustomerStatus</th>	
												<th>GRADE</th>
												<th>PIN_CODE</th>
												<th>ADDRESS</th>
												<th>REF_NO_1</th>
												<th>reference1ContactNumber</th>
												<th>REF_NO_2</th>
												<th>reference2ContactNumber</th>
												<th>CREDIT_LIMIT</th>
												<th>CREDIT_DAYS</th>
												<% if(level>2) {%>
													
													<th>Edit</th>
													<th>Delete</th>
													<th>Print</th>
												<%}else if(level>1){%>
													<th>Edit</th>
												<%}else{%>
												<%}%>
											</tr>
										</thead>
										
										<% for(var i=0; i<data.length; i++) {%>
											<%if(data[i].status=='UNVERIFIED') {%>
											<tr class="<%= data[i].customerId%>customer">
												<%if(level==1) {%>
													<td class="customerName" ><%= data[i].customerName%></td>
											        <td class="custCateg">
														<% for (var a = 0; a < custCateg.length; a++) { %>
														   <% if (custCateg[a].customerName == data[i].customerId) { %>
															 <%=custCateg[a].category %>
															 <% for (var b = 0; b < categorydata.length; b++) { %>
															   <% if (custCateg[a].category == categorydata[b].categoriesId) { %>
																 <%=categorydata[b].categoriesType %>
																 <% console.log("customer data1234" ,categorydata[b].categoriesType) %>
															   <% } %>
														  <% } %>
															<% } %>
													  <% } %>
													 
											   </td>
													<td class="area">
														<% for (var a = 0; a < areaData.length; a++) { %>
														  	<% if (areaData[a].areaId == data[i].area) { %>
																<%=areaData[a].area %>
														  	<% } %>
														<% } %>
													</td>
													<td class="status" ><%= data[i].status%></td>
													<td class="status"><%= data[i].CustomerStatus%></td>
													<td class="grade" >
														<% for (var a = 0; a < gradeData.length; a++) { %>
															<% if (gradeData[a].gradeId == data[i].grade) { %>
														  		<%=gradeData[a].gradeType %>
															<% } %>
													  <% } %>
													</td>
													<td class="pincode" ><%= data[i].pincode%></td>
													<td class="address" ><%= data[i].address%></td>
													<td class="referenceNumber1" ><%= data[i].referenceNumber1%></td>
													<td class="reference1ContactNumber" ><%= data[i].reference1ContactNumber%></td>
													<td class="referenceNumber2" ><%= data[i].referenceNumber2%></td>
													<td class="reference2ContactNumber" ><%= data[i].reference2ContactNumber%></td>
													<td class="creditLimit" ><%= data[i].creditLimit%></td>
													<td class="creditDays" ><%= data[i].creditDays%></td>
												<%} else if(level>2) {%>
													<td class="customerName"><%= data[i].customerName%></td>
													<td class="custCateg">
														<% for (var a = 0; a < custCateg.length; a++) { %>
														   <% if (custCateg[a].customerName == data[i].customerId) { %>
															  <% for (var b = 0; b < categorydata.length; b++) { %>
															   <% if (custCateg[a].category == categorydata[b].categoriesId) { %>
																 <%=categorydata[b].categoriesType %> 
																 <% console.log("customer data1234" ,categorydata[b].categoriesType) %>
															   <% } %>
														  <% } %>
															<% } %>
													  <% } %>
													 
											   </td>
													<td class="area">
														<% for (var a = 0; a < areaData.length; a++) { %>
														  	<% if (areaData[a].areaId == data[i].area) { %>
																<%=areaData[a].area %>
														  	<% } %>
														<% } %>
													</td>
													<td class="status"><%= data[i].status%></td>
													<td class="CustomerStatus"><%= data[i].CustomerStatus%></td>
													<td class="grade">
														<% for (var a = 0; a < gradeData.length; a++) { %>
															<% if (gradeData[a].gradeId == data[i].grade) { %>
														  		<%=gradeData[a].gradeType %>
															<% } %>
													  	<% } %>
													</td>
													<td class="pincode"><%= data[i].pincode%></td>
													<td class="address"><%= data[i].address%></td>
													<td class="referenceNumber1"><%= data[i].referenceNumber1%></td>
													<td class="reference1ContactNumber" ><%= data[i].reference1ContactNumber%></td>
													<td class="referenceNumber2" ><%= data[i].referenceNumber2%></td>
													<td class="reference2ContactNumber" ><%= data[i].reference2ContactNumber%></td>
													<td class="creditLimit"><%= data[i].creditLimit%></td>
													<td class="creditDays"><%= data[i].creditDays%></td>
													<td>
													<button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal_edit" data-popup="popover" onclick="eedit('<%= data[i].customerId%>customer')" >Edit</button>
												</td>
													<td >
													<button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal_del" data-popup="popover" onclick="ddel('<%= data[i].customerId%>customer')">Delete</button>
												</td>
												<td>
													<button type="button" class="btn btn-light"     onclick="printMasterCustomer('<%= data[i].customerId%>customer')">print</button>
												</td>
												<%}else if(level>1){%>
													<td class="customerName"><%= data[i].customerName%></td>
													<td class="custCateg">
 														<% for (var a = 0; a < custCateg.length; a++) { %>
															<% if (custCateg[a].customerName == data[i].customerId) { %>
															  <%=custCateg[a].category %>
															  <% for (var b = 0; b < categorydata.length; b++) { %>
																<% if (custCateg[a].category == categorydata[b].categoriesId) { %>
																  <%=categorydata[b].categoriesType %>
																  <% console.log("customer data1234" ,categorydata[b].categoriesType) %>
																<% } %>
														   <% } %>
															 <% } %>
													   <% } %>
													  
												</td>
													<td class="area">
														<% for (var a = 0; a < areaData.length; a++) { %>
														  	<% if (areaData[a].areaId == data[i].area) { %>
																<%=areaData[a].area %>
														  	<% } %>
														<% } %>
													</td>
													<td class="status"><%= data[i].status%></td>
													<td class="status"><%= data[i].CustomerStatus%></td>
													<td class="grade">
														<% for (var a = 0; a < gradeData.length; a++) { %>
															<% if (gradeData[a].gradeId == data[i].grade) { %>
														  		<%=gradeData[a].gradeType %>
															<% } %>
													  	<% } %>
													</td>
													<td class="pincode"><%= data[i].pincode%></td>
													<td class="address"><%= data[i].address%></td>
													<td class="referenceNumber1"><%= data[i].referenceNumber1%></td>
													<td class="reference1ContactNumber" ><%= data[i].reference1ContactNumber%></td>
													<td class="referenceNumber2" ><%= data[i].referenceNumber2%></td>
													<td class="reference2ContactNumber" ><%= data[i].reference2ContactNumber%></td>
													<td class="creditLimit"><%= data[i].creditLimit%></td>
													<td class="creditDays"><%= data[i].creditDays%></td>
													<td>
													<button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal_edit" data-popup="popover" onclick="eedit('<%= data[i].customerId%>customer')" data-popup="popover" title="Edit <%= data[i].customerName%>" data-trigger="hover" data-content="Click to change data">Edit</button>
													</td>
												<%}%>
											</tr>
											<% } %>
										<% } %>
									</table>
								
								<%}else{%>
									<h4>No new data</h4>
								<%}%>
								
								
								
								<div class="card" style="overflow-x: auto;"></div>
								<h3>INACTIVE Customer</h3>	
								
								
								<% if(data.length>0) {%>
		
									<table class="table datatable-basic table-bordered table-striped table-hover">
										
										<thead>
											<tr>
												<th>customerName</th>
												<th>AREA</th>
												<th>STATUS</th>
												
												<th>GRADE</th>
												<th>PIN_CODE</th>
												<th>ADDRESS</th>
												<th>REF_NO_1</th>
												<th>reference1ContactNumber</th>
												<th>REF_NO_2</th>
												<th>reference2ContactNumber</th>
												<th>CREDIT_LIMIT</th>
												<th>CREDIT_DAYS</th>
												<% if(level>2) {%>
													<th>Edit</th>
													<th>Delete</th>
													<%}else if(level>1){%>
														<th>Edit</th>
												<%}else{%>
													<%}%>
												</tr>
											</thead >
											
											<% for(var i=0; i<data.length; i++) {%>
												<%if(data[i].status=='INACTIVE') {%>
													<tr class="<%= data[i].customerId%>customer">
														<%if(level==1) {%>
															<td class="customerName" ><%= data[i].customerName%></td>
															<td class="area" >
																<% for (var a = 0; a < areaData.length; a++) { %>
													  				<% if (areaData[a].areaId == data[i].area) { %>
																		<%=areaData[a].area %>
													  				<% } %>
																<% } %>
															</td>
															<td class="status" ><%= data[i].status%></td>
															<td class="grade" >
																<% for (var a = 0; a < gradeData.length; a++) { %>
														<% if (gradeData[a].gradeId == data[i].grade) { %>
														  <%=gradeData[a].gradeType %>
														<% } %>
													  <% } %>
															</td>
															<td class="pincode" ><%= data[i].pincode%></td>
															<td class="address" ><%= data[i].address%></td>
															<td class="referenceNumber1" ><%= data[i].referenceNumber1%></td>
															<td class="reference1ContactNumber" ><%= data[i].reference1ContactNumber%></td>
															<td class="referenceNumber2" ><%= data[i].referenceNumber2%></td>
															<td class="reference2ContactNumber" ><%= data[i].reference2ContactNumber%></td>
															<td class="creditLimit" ><%= data[i].creditLimit%></td>
															<td class="creditDays" ><%= data[i].creditDays%></td>
															<%} else if(level>2) {%>
																<td class="customerName"><%= data[i].customerName%></td>
													<td class="area">
														<% for (var a = 0; a < areaData.length; a++) { %>
															<% if (areaData[a].areaId == data[i].area) { %>
																<%=areaData[a].area %>
															<% } %>
														<% } %>
													</td>
													<td class="status"><%= data[i].status%></td>
													<td class="grade">
														<% for (var a = 0; a < gradeData.length; a++) { %>
														<% if (gradeData[a].gradeId == data[i].grade) { %>
														  <%=gradeData[a].gradeType %>
														<% } %>
													  <% } %>
													</td>
													<td class="pincode"><%= data[i].pincode%></td>
													<td class="address"><%= data[i].address%></td>
													<td class="referenceNumber1" ><%= data[i].referenceNumber1%></td>
													<td class="reference1ContactNumber" ><%= data[i].reference1ContactNumber%></td>
													<td class="referenceNumber2" ><%= data[i].referenceNumber2%></td>
													<td class="reference2ContactNumber" ><%= data[i].reference2ContactNumber%></td>
													<td class="creditLimit"><%= data[i].creditLimit%></td>
													<td class="creditDays"><%= data[i].creditDays%></td>
													<td>
														<button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal_edit" data-popup="popover" onclick="eedit('<%= data[i].customerId%>customer')">Edit</button>
														<!-- data-popup="popover" title="Edit <%= data[i].customerName%>" data-trigger="hover" data-content="Click to change data" -->
													</td>
													<td >
														<button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal_del" data-popup="popover" onclick="ddel('<%= data[i].customerId%>customer')" >Delete</button>
														<!-- data-popup="popover" title="Delete <%= data[i].customerName%>" data-trigger="hover" data-content="Click Delete Button to remove Master Customer and reload page to see changes" -->
													</td>
													<%}else if(level>1){%>
														<td class="customerName"><%= data[i].customerName%></td>
														<td class="area">
															<% for (var a = 0; a < areaData.length; a++) { %>
																<% if (areaData[a].areaId == data[i].area) { %>
																	<%=areaData[a].area %>
																<% } %>
															<% } %>
														</td>
														<td class="status"><%= data[i].status%></td>
														<td class="grade">
															<% for (var a = 0; a < gradeData.length; a++) { %>
																<% if (gradeData[a].gradeId == data[i].grade) { %>
																<%=gradeData[a].gradeType %>
																<% } %>
													  		<% } %>
														</td>
														<td class="pincode"><%= data[i].pincode%></td>
														<td class="address"><%= data[i].address%></td>
														<td class="referenceNumber1" ><%= data[i].referenceNumber1%></td>
														<td class="reference1ContactNumber" ><%= data[i].reference1ContactNumber%></td>
														<td class="referenceNumber2" ><%= data[i].referenceNumber2%></td>
														<td class="reference2ContactNumber" ><%= data[i].reference2ContactNumber%></td>
														<td class="creditLimit"><%= data[i].creditLimit%></td>
														<td class="creditDays"><%= data[i].creditDays%></td>														
														<td>
															<button type="button" class="btn btn-light" data-toggle="modal" data-target="#modal_edit" data-popup="popover" onclick="eedit('<%= data[i].customerId%>customer')" data-popup="popover">Edit</button>
														</td>
														<%}%>
													</tr>
													<% } %>
													<% } %>
												</table>
												
												<%}else{%>
													<h4>No new data</h4>
												<%}%>
								</div>		
								<div class="form-group">
									<div class="row">
										<div class="col-sm-2">
											<label for="customerName" class="form-control"><span class="font-weight-semibold">customerName</span></label>
											<select name="customerName" class="form-control multiselect-filtering customerName" id="customerNameFil" multiple="multiple" data-fouc>
												<% let dataValuescustomerName = data.reduce((acc, curr) => {
													if (curr.customerName && !acc.includes(curr.customerName)) {
													  acc.push(curr.customerName);
													}
													return acc;
												  }, []); %>
												  
												  <% dataValuescustomerName.forEach(function(value) { %>
													<option value="<%= value %>"><%= value %></option>
												  <% }); %>
											</select>
										</div>
										<div class="col-sm-2">
											<label for="area" class="form-control"><span class="font-weight-semibold">area</span></label>
											<select name="area" class="form-control multiselect-filtering  area" id="areaFil" multiple="multiple" data-fouc>
												<% let dataValues = data.reduce((acc, curr) => {
													if (curr.area && !acc.includes(curr.area)) {
													  acc.push(curr.area);
													}
													return acc;
												}, []); %>
												
												<% dataValues.forEach(function(value) { %>
												<option value="<%= value %>">
													<% for (var a = 0; a < areaData.length; a++) { %>
														<% if (areaData[a].areaId == value) { %>
															<%=areaData[a].area %>
														<% } %>
													<% } %>
												</option>
												<% }); %>
											</select>
										</select>

										</div>																	
										<div class="col-sm-2">
											<label for="status" class="form-control"><span class="font-weight-semibold">status</span></label>
											<select name="status" class="form-control multiselect-filtering  status" id="statusFil" multiple="multiple" data-fouc>
												<% let dataValuesStatus = data.reduce((acc, curr) => {
													if (curr.status && !acc.includes(curr.status)) {
													  acc.push(curr.status);
													}
													return acc;
												  }, []); %>
												  
												  <% dataValuesStatus.forEach(function(value) { %>
													<option value="<%= value %>"><%= value %></option>
												  <% }); %>
											</select>
										</div>																	
										<div class="col-sm-2">
											<label for="grade" class="form-control"><span class="font-weight-semibold">grade</span></label>
											<select name="grade" class="form-control multiselect-filtering  grade" id="gradeFil" multiple="multiple" data-fouc>
												<% let dataValuesgrade = data.reduce((acc, curr) => {
													if (curr.grade && !acc.includes(curr.grade)) {
													  acc.push(curr.grade);
													}
													return acc;
												  }, []); %>
												  
												  <% dataValuesgrade.forEach(function(value) { %>
													<option value="<%= value %>">
														<% for (var a = 0; a < gradeData.length; a++) { %>
															<% if (gradeData[a].gradeId == value) { %>
																  <%=gradeData[a].gradeType %>
															<% } %>
														  <% } %>
													</option>
												  <% }); %>
											</select>
										</div>																	
									</div>
								</div>
								<div class="form-group">
									<div class="row">
										<button onclick="fil()" class="form-control bg-teal-400" type="button">Filter</button>
									</div>
								</div>
								<div class="card" style="overflow-x: auto;" id="koiBhi"></div>
								<div class="card" style="overflow-x: auto;" id="chlna"></div>
								
							</div>		
							
							
							
							
							
							<!-- Vertical form modal -->
							<div id="modal_form_vertical" class="modal fade" tabindex="-1">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header">
											<h5 class="modal-title">New Master Customer</h5>
											<button type="button" class="close" data-dismiss="modal">&times;</button>
										</div>

										<form action="/masterCustomer" method="POST">
											<div class="modal-body">
												<div class="form-group">
													<div class="row">
														<div class="col-sm-6">
															<label>Customer Name<span class="text-danger">*</span></label>
															<input type="text" class="form-control customerName" required name="customerName" id="customerName">
														</div>

														<div class="col-sm-6">
															<label>Category<span class="text-danger">*</span></label>
															<!-- <select name="category" class="category form-control" id="category" required>
																<option value="" disabled selected>-Select-</option>
																<% for(var j=0; j<categorydata.length; j++) {%>
																	<option value="<%=categorydata[j].categoriesId%>"><%=categorydata[j].categoriesType%></option>
																<% } %>
															</select> -->
															<select name="categoryFil" class="form-control multiselect-filtering categoryFil" id="categoryFil" multiple="multiple" data-fouc>
																<% for(var i=0; i<categorydata.length; i++) {%>
																	<option value="<%=categorydata[i].categoriesId%>"><%=categorydata[i].categoriesType%></option>
																<% } %>	
															</select>
														</div>

													</div>
												</div>
												<div class="form-group">
													<div class="row">											
														<div class="col-sm-4">
															<label>Pincode</label>
															<input type="text" placeholder="6-digit-format" class="form-control pincode" name="pincode" id="pincode" pattern="[0-9]{6}" maxlength="6">
														</div>

														<div class="col-sm-8">
															<label>Address<span class="text-danger">*</span></label>
															<input type="text"  class="form-control address" name="address" id="address">
														</div>

													</div>
												</div>

												<div class="form-group">
													<div class="row">
														<div class="col-sm-6">
															<label>Status</label>
															<select id="status" name="status" class="form-control status" id="status">
																<option value="" disabled selected>-Select-</option>
																<option value="VERIFIED">VERIFIED</option>
																<option value="UNVERIFIED">UNVERIFIED</option>
															</select>
														</div>
														<div class="col-sm-6">
															<label>Customer Status</label>
															<select id="CustomerStatus" name="CustomerStatus" class="form-control status" id="CustomerStatus">
																<option value="" disabled selected>-Select-</option>
																<option value="active">ACTIVE</option>
																<option value="inactive">INACTIVE</option>
 															</select>
														</div>
														<div class="col-sm-12">
															<label>Firm2<span class="text-danger">*</span></label>
															<a style="border: 2px solid black; cursor: default;" class="" data-toggle="modal" data-target="#modal_firm">Add new Firm</a>
															<select name="firmFil" class="form-control multiselect-filtering firmFil" id="firmFil" multiple="multiple" data-fouc>
																<% for(var i=0; i<firmData.length; i++) { %>
																	<option value="<%=firmData[i].firmId%>"><%=firmData[i].firmName%></option>
																<% } %>
															</select>
														</div>
														<!-- <div class="col-sm-12">
															<label>Firm<span class="text-danger">*</span></label>
															<a style="border: 2px solid black; cursor: default;" class="" data-toggle="modal" data-target="#modal_firm">Add new Firm</a>
															<select name="firmFil" class="form-control " id="firmFil" >
																<% for(var i=0; i<firmData.length; i++) {%>
																	<option value="<%=firmData[i].firmId%>"><%=firmData[i].firmName%></option>
																<% } %>	
															</select>
														</div> -->
													</div>
												</div>
												
												<div class="form-group">
													<div class="row">
														<div class="col-sm-6">
															<label>Area<span class="text-danger">*</span></label>
															<select id="area" name="area" class="form-control area" id="area" >
																<option value="" disabled selected>-Select-</option>
																<% for(var i=0; i<areaData.length; i++) {%>
																	<option value="<%=areaData[i].areaId%>"><%=areaData[i].area%></option>
																<% } %>																
															</select>														
														</div>
														
														<div class="col-sm-6">
															<label>Grade<span class="text-danger">*</span></label>
															<select id="grade" name="grade" class="form-control grade" id="grade" >
																<option value="" disabled selected>-Select-</option>
																<% for(var i=0; i<gradeData.length; i++) {%>
																	<option value="<%=gradeData[i].gradeId%>"><%=gradeData[i].gradeType%></option>
																<% } %>
															</select>
															
														</div>											
													</div>
												</div>
												<legend class="font-weight-semibold">Contact Info</legend>	
												<div class="form-group"  id="contactsContainer">
													<div class="row">
														<div class="col-sm-3">
															<label>Contact Name<span class="text-danger">*</span></label>
															<input type="text" class="form-control contactName" name="contactName[]" id="contactName" >
														</div>
														<div class="col-sm-2">
															<label>Designation<span class="text-danger">*</span></label>
															<input type="text" class="form-control designation" name="designation[]" id="designation" >
														</div>
														<div class="col-sm-3">
															<label>Mobile Number<span class="text-danger">*</span></label>
															<input type="text" placeholder="10-digit-format" class="form-control contact" name="contact[]" id="contact" pattern="[0-9]{10}" maxlength="10">
														</div>
														<div class="col-sm-2">
															<label>Email</label>
															<input type="email" class="form-control email" name="email[]" id="email" >
														</div>

														<div class="col-sm-2">
															<button type="button" class="float-right" id="addContactBtn">Add Contact</button>
														</div>

													</div>
												</div>
												
												<legend class="font-weight-semibold">Products Info</legend>
												<div class="form-group">
													<div class="row">
														<div class="col-sm-8">
															<label>Products<span class="text-danger">*</span></label>
															<select name="productFil" class="form-control multiselect-filtering productFil" id="productFil" multiple="multiple" data-fouc>
																<% for(var i=0; i<productData.length; i++) {%>
																	<option value="<%=productData[i].productId%>"><%=productData[i].productName%></option>
																<% } %>	
															</select>
															
														</div>

													</div>
												</div>
												

												<div class="form-group">
													<div class="row">

														<legend class="font-weight-semibold">Reference Info</legend>

														<div class="col-sm-6">
															<label>Reference 1 Name</label>
															<input type="text" placeholder="name" class="form-control referenceNumber1" name="referenceNumber1" id="referenceNumber1" >
															
														</div>

														<div class="col-sm-6">
															<label>Reference 1 Contact Number</label>
															<input type="text" placeholder="Contact Number" class="form-control reference1ContactNumber" name="reference1ContactNumber"  id="reference1ContactNumber" maxlength="10" pattern="[0-9]{10}">
														</div>
													</div>
												</div>
												<div class="form-group">
													<div class="row">
														
														<div class="col-sm-6">
															<label>Reference 2 Name</label>
															<input type="text" placeholder="name" class="form-control referenceNumber2" name="referenceNumber2"  id="referenceNumber2">
														</div>
														
														<div class="col-sm-6">
															<label>Reference 2 Contact Number</label>
															<input type="text" placeholder="Contact Number" class="form-control reference2ContactNumber" name="reference2ContactNumber"  id="reference2ContactNumber" maxlength="10" pattern="[0-9]{10}">
														</div>

													</div>
												</div>

												<div class="form-group">
													<div class="row">
														<div class="col-sm-6">
															<label>Credit Limit</label>
															<input type="number" placeholder="amount" class="form-control creditLimit" name="creditLimit" id="creditLimit">									
														</div>

														<div class="col-sm-6">
															<label>Credit Days</label>
															<input type="number" placeholder="time period" class="form-control creditDays" name="creditDays" id="creditDays">
														</div>
													</div>
												</div>
											</div>

											<div class="modal-footer">
												<button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
												<button  class="btn bg-primary">Add</button>
											</div>
										</form>
									</div>
								</div>
							</div>

							<script>
								// Function to add dynamic contact input fields
								function addContactInput() {
									var container = document.getElementById("contactsContainer");							
									// Create a new row
									var row = document.createElement("div");
									row.className = "row";
							
									// Create name input field
									var col1 = document.createElement("div");
									col1.className = "col-sm-3";
									var contactNameInput = document.createElement("input");
									contactNameInput.type = "text";
									contactNameInput.className = "form-control contactName";
									contactNameInput.name = "contactName[]";
									col1.appendChild(contactNameInput);
									row.appendChild(col1);
							
									// Create designation input field
									var col2 = document.createElement("div");
									col2.className = "col-sm-2";
									var designationInput = document.createElement("input");
									designationInput.type = "text";
									designationInput.className = "form-control designation";
									designationInput.name = "designation[]";
									col2.appendChild(designationInput);
									row.appendChild(col2);
							
									// Create contact input field
									var col3 = document.createElement("div");
									col3.className = "col-sm-3";
									var contactInput = document.createElement("input");
									contactInput.type = "tel";
									contactInput.className = "form-control contact";
									contactInput.name = "contact[]";
									contactInput.pattern = "[0-9]{10}";
									contactInput.placeholder = "10-digit-format";
									col3.appendChild(contactInput);
									row.appendChild(col3);
							
									// Create email input field
									var col4 = document.createElement("div");
									col4.className = "col-sm-2";
									var emailInput = document.createElement("input");
									emailInput.type = "email";
									emailInput.className = "form-control email";
									emailInput.name = "email[]";
									col4.appendChild(emailInput);
									row.appendChild(col4);
							
									// Create remove button
									var col5 = document.createElement("div");
									col5.className = "col-sm-2";
									var removeBtn = document.createElement("button");
									removeBtn.type = "button";
									removeBtn.className = "btn btn-danger float-right";
									removeBtn.textContent = "Remove";
									removeBtn.addEventListener("click", function() {
										container.removeChild(row);
									});
									col5.appendChild(removeBtn);
									row.appendChild(col5);
							
									// Append the row to the contacts container
									container.appendChild(row);
								}

								// Event listener for the "Add Contact" button
								document.getElementById("addContactBtn").addEventListener("click", addContactInput);
							</script>
							



							<div id="modal_firm" class="modal fade"  tabindex="-1">
					            <div class="modal-dialog">
						            <div class="modal-content">
							            <div class="modal-header">
								            <h5 class="modal-title">New Master Firm</h5>
								            <button type="button" class="close" data-dismiss="modal">&times;</button>
							            </div>

							            <form action="/masterFirm" method="POST" id="addFirmForm">
								            <div class="modal-body">
									            <div class="form-group">
										            <div class="row">
											            <div class="col-sm-6">
												            <label>Firm Name</label>
												            <input type="text" placeholder="Firm Name" class="form-control firmName" name="firmName" id="firmName">
											            </div>
											            <div class="col-sm-6">
												            <label>Address</label>
												            <input type="text" placeholder="Address" class="form-control address" name="address" id="address">
											            </div>
										            </div>
									            </div>
									            <div class="form-group">
										            <div class="row">
											            <div class="col-sm-6">
												            <label>Pincode</label>
												            <input type="text" placeholder="Pin Code" class="form-control pincode" name="pincode" id="pincode" maxlength="6" pattern="[0-9]{6}">
											            </div>
											            <div class="col-sm-6">
												            <label>GST Number</label>
												            <input type="text" placeholder="GST Number" class="form-control GSTNumber" name="GSTNumber" id="GSTNumber" maxlength="15" pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}">
											            </div>
										            </div>
									            </div>
									            <div class="form-group">
										            <div class="row">
											            <div class="col-sm-4">
												            <label>Account Number</label>
												            <input type="text" placeholder="Account Number" class="form-control accountNumber" name="accountNumber" id="accountNumber" pattern="[0-9]{11-16}" minlength="11" maxlength="16">
											            </div>
											            <div class="col-sm-4">
												            <label>Bank Name</label>
												            <input type="text" placeholder="Bank Name" class="form-control bankName" name="bankName" id="bankName">
											            </div>
											            <div class="col-sm-4">
												            <label>IFSC Code</label>
												            <input type="text" placeholder="IFSC Code" class="form-control IFSCcode" name="IFSCcode" id="IFSCcode" maxlength="11" pattern="[A-Z]{4}0[A-Z0-9]{6}">
											            </div>
										            </div>
									            </div>
												<div class="form-group">
										            <div class="row">
											            <div class="col-sm-6">
												            <label>Product Produced</label>
												            <input type="text" placeholder="Product Produced" class="form-control pincode" name="ProductProduced" id="ProductProduced">
											            </div>
											            <div class="col-sm-6">
												            <label>Quantity</label>
												            <input type="number" placeholder="Quantity" class="form-control Quantity" name="Quantity" id="Quantity">
											            </div>
										            </div>
									            </div>
								            </div>

								            <div class="modal-footer">
									            <button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
									            <button type="submit" class="btn bg-primary">Add</button>
								            </div>
							            </form>
						            </div>
					            </div>
				            </div>

				
					 
							
							<script>

								// Function to handle the "Add New Firm" form submission
								$("#addFirmForm").submit(function (event) {
									event.preventDefault(); // Prevent the default form submission behavior
									$.post("/masterFirm",
									{
										data: $(this).serialize(),
										op:"addFirm"
									},
									function (data, status) 
									{
										// console.log("data" , data);
 								 
										for( i=0 ; i < data.result.length ; i++){
											updateFirmSelectDropdown(data.result[i]);
										}
									 
										$("#modal_firm").modal("hide");
										if (data.msg) {
														let selectElement = $("select[name='firmFil']");
														console.log(selectElement);
														selectElement.next('.error').remove();
														// Clear previous content and append the error message div after the select element
														selectElement.html('').after('<div class="error">' + data.msg + '</div>');
													}

										 window.location.reload()
										console.log(status);
										// console.log(updatedFirmData)
									});
								});
								   
								
								function updateFirmSelectDropdown(firmData) {
									const firmId = firmData.firmId;
									const firmName = firmData.firmName;
								
									
									// Use jQuery's append method to add the new option
									$("#firmFil").append($('<option>', {
										value: firmId,
										text: firmName
									})) 
									// console.log("firmdata" ,firmData)
									// $("#firmFil").val(firmId);
									$('#firmFil').multiselect('rebuild')

									// var x = document.getElementById("firmFil");
									// var option = document.createElement("option");
									// option.text = firmData.firmName;
									// option.value = firmData.firmId;
									// x.add(option);

									// const updatedFirmData =firmData; 
									 
									// $("#firmFil").empty();
									// console.log("empty data:");

									// // Append new options based on the updated firm data
									// for (let i = 0; i < updatedFirmData.length; i++) {
									// 	const firmId = updatedFirmData[i].firmId;
									// 	const firmName = updatedFirmData[i].firmName;
									// 	const option = $("<option>").val(firmId).text(firmName);
									// 	$("#firmFil").append(option);
									// }
								
								
									 
								}
							</script>

							


						

									
							
							<!-- EDIT modal -->
							<div id="modal_edit" class="modal fade" tabindex="-1" style="z-index: 1050; ">
					            <div class="modal-dialog">
						            <div class="modal-content">
							            <div class="modal-header">
								            <h5 class="modal-title">Edit Master Customer</h5>
								            <button type="button" class="close" data-dismiss="modal">&times;</button>
							            </div>

								        <div class="modal-body" id="blast">
									        
								        </div>

								        <div class="modal-footer" id="off">
									        
								        </div>
						            </div>
					            </div>
				            </div>
							
							
							
							<!-- DEL modal -->
							<div id="modal_del" class="modal fade" tabindex="-1">
					            <div class="modal-dialog">
						            <div class="modal-content">
							            <div class="modal-header">
								            <h5 class="modal-title">Delete Master Customer</h5>
								            <button type="button" class="close" data-dismiss="modal">&times;</button>
							            </div>

								        <div class="modal-body" id="blasto">
									        
								        </div>

								        <div class="modal-footer" id="offo">
									        
								        </div>
						            </div>
					            </div>
				            </div>


							<!-- Customer Information modal -->
							<div id="customer_information" class="modal fade" tabindex="-1" style="z-index: 1049;">
								<div class="modal-dialog modal-lg">
									<div class="modal-content ">
										<div class="modal-header">
											<h4 class="modal-title">Master Customer </h4>
											
											<button type="button" class="close" data-dismiss="modal">&times;</button>
										</div>
			
										<div class="modal-body" id="ekdin">
										</div>
			
										<div class="modal-footer">
											<button type="button" class="btn btn-link text-white" data-dismiss="modal">Close</button>
										</div>
									</div>
								</div>
							</div>

							
						</div>
					</div>
					
				</div>
				<!-- /dashboard content -->

			</div>
			<!-- /content area -->


			<!-- Footer -->
			<!-- /footer -->

		</div>
		<!-- /main content -->

	</div>
	<!-- /page content -->

</body>

</html>


<!-- <script>
	function validation()
	{
		
		const categorySelect = document.getElementById('categoryFil');
		const statusSelect = document.getElementById('status');
		const firm = document.getElementById('firmFil');
		const area = document.getElementById('area');
		const grade = document.getElementById('grade');
		const designation = document.getElementById('designation');
		const contact = document.getElementById('contact');
		const productFil = document.getElementById('productFil');
		const pincode = document.getElementById('pincode');
		const address = document.getElementById('address');

		categorySelect.addEventListener('change', () => {
			console.log("changeCategory")
			console.log(categorySelect.value)

			if (categorySelect.value === 'Retail') {
				area.required = false;
				grade.required = false;
				designation.required = false;
				contact.required = false;
				productFil.required = false;
				pincode.required = false;
				address.required = false;
			} else {
				area.required = true;
				grade.required = true;
				designation.required = true;
				contact.required = true;
				productFil.required = true;
				pincode.required = true;
				address.required = true;
			}
		});
		
		statusSelect.addEventListener('change', () => {
			console.log("changeStatus")
			console.log(statusSelect.value)

			if (statusSelect.value === 'UNVERIFIED') {
				firm.required = false;
			} else {
				firm.required = true;
			}
		});
	}
</script> -->




<script>


    function edit(value)
    {
        console.log(value);
        console.log("3333333333333333333333333333333");
		
		var ecustomerName = document.getElementById("ecustomerName").value;
        var earea = document.getElementById("earea").value;
        var estatus = document.getElementById("estatus").value;
        var egrade = document.getElementById("egrade").value;
        var epincode = document.getElementById("epincode").value;
        var eaddress = document.getElementById("eaddress").value;
        var ereferenceNumber1 = document.getElementById("ereferenceNumber1").value;
        var ereference1ContactNumber = document.getElementById("ereference1ContactNumber").value;
        var ereferenceNumber2 = document.getElementById("ereferenceNumber2").value;
        var ereference2ContactNumber = document.getElementById("ereference2ContactNumber").value;
        var ecreditLimit = document.getElementById("ecreditLimit").value;
        var ecreditDays = document.getElementById("ecreditDays").value;
        var eCustomerStatus = document.getElementById("eCustomerStatus").value;
		console.log(ecustomerName);
		console.log(earea);
        
        $.post("/masterCustomer",
            {
                id: value,
                customerName:ecustomerName,
                area: earea,
                status: estatus,
                grade: egrade,
                pincode: epincode,
                address: eaddress,
                referenceNumber1: ereferenceNumber1,
                referenceNumber2: ereferenceNumber2,
				reference1ContactNumber:ereference1ContactNumber,
				reference2ContactNumber:ereference2ContactNumber,
                creditLimit: ecreditLimit,
                creditDays: ecreditDays,
				CustomerStatus : eCustomerStatus,
                op:"edt"
            },
            function (data, status) 
			{
                console.log(data);
                console.log(status);
				setInterval('refreshPage()', 500);
            });
        
    }
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.9/pdfmake.min.js" integrity="sha512-5wC3oH3tojdOtHBV6B4TXjlGc0E2uk3YViSrWnv1VUmmVlQDAs1lcupsqqpwjh8jIuodzADYK5xCL5Dkg/ving==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.9/vfs_fonts.min.js" integrity="sha512-EFlschXPq/G5zunGPRSYqazR1CMKj0cQc8v6eMrQwybxgIbhsfoO5NAMQX3xFDQIbFlViv53o7Hy+yCWw6iZxA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
	
	function printMasterCustomer(value){
	 
	
		$.post("/masterCustomer", {
		    id: value, 
		  op: "pMasterCustomer"
		}, function(data, status) {
		    console.log("datassssssssssssssssssssssssssssss" , data)
		    console.log("status " , status)
			
			var docDefinition =  {
                content: [
				{text: 'Master Customer Details', style: 'header'},
	  
	  {text: 'Profile', style: 'subheader'},
	  'The following table has nothing more than a body array',
	  {
		  style: 'tableExample',
		  table: {
				  widths: [  '*', '*'  ],
			  body:  Object.entries(data).map(([key, value]) => {
                // Replace null values with a placeholder
                const displayValue = value !== null ? value.toString() : 'N/A';
                return [key, displayValue];
            })
		  }
	  },
   
	   ]
                
            }
            
			console.log()

		pdfMake.createPdf(docDefinition).download();
		});

	}

	function excelMasterCustomer(value){
		$.post("/masterCustomer", {
		    id: value, 
		  op: "excelMasterCustomer"
		}, function(data, status) {
		    console.log("data " , data)
		    console.log("status " , status)
			
               // Convert the binary data to a Uint8Array
    const uint8Array = new Uint8Array(data.length);
    for (let i = 0; i < data.length; i++) {
      uint8Array[i] = data.charCodeAt(i) & 0xff;
    }

    // Create a Blob from the Uint8Array
    const blob = new Blob([uint8Array], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });

    // Create a temporary URL for the Blob
    const url = window.URL.createObjectURL(blob);

    // Create a hidden anchor element
    const a = document.createElement('a');
    a.href = url;
    a.download = 'output.xlsx';

    // Append the anchor to the document and trigger a click event
    document.body.appendChild(a);
    a.click();

    // Remove the anchor from the document
    document.body.removeChild(a);

    // Clean up the temporary URL
    window.URL.revokeObjectURL(url);
		});

	}

    function del(value)
    {
        console.log(value);
        $.post("/masterCustomer",
            {
                id: value,
                op:"del"
            },
            function (data, status) {
                console.log(data);
                console.log(status);
				setInterval('refreshPage()', 500);
            }
            );
    }

	function refreshPage() {
    	location.reload(true);
	}



	function fil()
	{
		var mySelcust = document.getElementById("customerNameFil").value;
		var mySelArea = document.getElementById("areaFil").value;
		var mySelStat = document.getElementById("statusFil").value;
		var mySelGrad = document.getElementById("gradeFil").value;
		
		console.log(mySelcust);
		console.log(mySelArea);
		console.log(mySelStat);
		console.log(mySelGrad);
		
		console.log("ujjwal");
        $.post("/masterCustomer",
        {
			customerNameFil: mySelcust,
            areaFil: mySelArea,
            statusFil: mySelStat,
            gradeFil: mySelGrad,
            op:"fil"
        },
        function (dataFil, status) {
			console.log("filter kios");
            console.log(dataFil);
			check(dataFil);
            console.log(status);
        }
        );
    }
	function eedit(value)
    {
        console.log("value11111111111111" ,value);
        var sub = 'customer';
        var result = value.replace(sub,'');
        console.log("result1111111" ,result);
        
        $('.'+value).each(function() 
        {   
			console.log("qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq" , this)
            var customerName = $(this).find(".customerName")[0].innerText;    
            var area = $(this).find(".area").html();    
            var status = $(this).find(".status").html();    
            var grade = $(this).find(".grade").html();    
            var pincode = $(this).find(".pincode").html();    
            var address = $(this).find(".address").html();    
            var referenceNumber1 = $(this).find(".referenceNumber1").html();    
            var reference1ContactNumber = $(this).find(".reference1ContactNumber").html();    
            var referenceNumber2 = $(this).find(".referenceNumber2").html();    
            var reference2ContactNumber = $(this).find(".reference2ContactNumber").html();    
            var creditLimit = $(this).find(".creditLimit").html();    
            var creditDays = $(this).find(".creditDays").html();     
            var CustomerStatus = $(this).find(".CustomerStatus").html();     
            


			console.log("CustomerStatus" ,CustomerStatus)
			console.log(area)
			console.log("++++++++++++++++++++++++++++++++++++++++")
			console.log(result)
			
			
            var tek = '<div class="card" style="text-align:center;"> <table class="table datatable-basic table-bordered table-striped table-hover"> <tr> <td >customerName</td> <td><input type="text" value="'+customerName+'" class="form-control ecustomerName" name="ecustomerName" id="ecustomerName"></td> </tr> <tr> <td>area</td> <td><select id="earea" name="earea" class="form-control earea"> <option value="null" disabled selected>'+area+'</option> <% for(var i=0; i<areaData.length; i++) {%> <option value="<%=areaData[i].areaId%>"><%=areaData[i].area%></option> <% } %> </select> </td> </tr> <tr> <td>status</td> <td><select id="estatus" name="estatus" class="form-control estatus"> <option value="null" disabled selected>'+status+'</option> <option value="VERIFIED">VERIFIED</option> <option value="UNVERIFIED">UNVERIFIED</option> <option value="INACTIVE">INACTIVE</option> </select> </td> </tr> <tr> <td>Customer status</td> <td><select id="eCustomerStatus" name="eCustomerStatus" class="form-control eCustomerStatus"> <option value="null" disabled selected>'+CustomerStatus+'</option> <option value="active">ACTIVE</option><option value="inactive">INACTIVE</option> </select> </td> </tr><tr> <td>grade</td> <td><select id="egrade" name="egrade" class="form-control egrade"> <option value="null" disabled selected>'+grade+'</option> <% for(var i=0; i<gradeData.length; i++) {%> <option value="<%=gradeData[i].gradeId%>"><%=gradeData[i].gradeType%></option> <% } %> </select> </td> </tr> <tr> <td>pincode</td> <td><input type="text" value="'+pincode+'" class="form-control epincode" name="epincode" id="epincode"> </tr> <tr> <td>address</td> <td><input type="text" value="'+address+'" class="form-control eaddress" name="eaddress" id="eaddress"> </tr> <tr> <td>reference 1 Name</td> <td><input type="text" value="'+referenceNumber1+'" class="form-control ereferenceNumber1" name="ereferenceNumber1" id="ereferenceNumber1"> </tr> <tr> <td>reference 1 ContactNumber</td> <td><input type="text" value="'+reference1ContactNumber+'" class="form-control ereference1ContactNumber" name="ereference1ContactNumber" id="ereference1ContactNumber"> </tr> <tr> <td>reference 2 Name</td> <td><input type="text" value="'+referenceNumber2+'" class="form-control ereferenceNumber2" name="ereferenceNumber2" id="ereferenceNumber2"> </tr> <tr> <td>reference 2 ContactNumber</td> <td><input type="text" value="'+reference2ContactNumber+'" class="form-control ereference2ContactNumber" name="ereference2ContactNumber" id="ereference2ContactNumber"> </tr> <tr> <td>Credit Limit</td> <td><input type="text" value="'+creditLimit+'" class="form-control ecreditLimit" name="ecreditLimit" id="ecreditLimit"> </tr>   <tr> <td>Credit Days</td> <td><input type="text" value="'+creditDays+'" class="form-control ecreditDays" name="ecreditDays" id="ecreditDays"> </tr></table> </div>'
				
			var bt="<button type='button' class='btn btn-link' style='color:teal' data-dismiss='modal'>Cancel</button> <button type='submit' onclick='edit("+result+")' data-dismiss='modal' class='btn bg-teal-400'>Save</button>"
			console.log("Ujjwal")
			document.getElementById("blast").innerHTML=tek;
			document.getElementById("off").innerHTML=bt;
		});
    }

	function ddel(value)
    {
        console.log(value);
        var sub = 'customer';
        var result = value.replace(sub,'');
        console.log(result);
        
        $('.'+value).each(function() 
        {   
			console.log("aaaaaaaaaaaaaaaaaaaaaaaa")
            var customerName = $(this).find(".customerName").html();    
            var area = $(this).find(".area").html();    
            var status = $(this).find(".status").html();    
            var grade = $(this).find(".grade").html();    
            var pincode = $(this).find(".pincode").html();    
            var address = $(this).find(".address").html();    
            var referenceNumber1 = $(this).find(".referenceNumber1").html();    
            var reference1ContactNumber = $(this).find(".reference1ContactNumber").html();    
            var referenceNumber2 = $(this).find(".referenceNumber2").html();    
            var reference2ContactNumber = $(this).find(".reference2ContactNumber").html();    
            var creditLimit = $(this).find(".creditLimit").html();    
            var creditDays = $(this).find(".creditDays").html();     
			console.log(result)


            var tek = '<div class="card" style="text-align:center;"> <table class="table datatable-basic table-bordered table-striped table-hover"> <tr> <td >customerName</td> <td>'+customerName+'</td> </tr> <tr> <td>area</td> <td>'+area+' </td> </tr> <tr> <td>status</td> <td>'+status+' </td> </tr> <tr> <td>grade</td> <td>'+grade+' </td> </tr> <tr> <td>pincode</td> <td>'+pincode+' </td> </tr> <tr> <td>address</td> <td>'+address+' </td> </tr> <tr> <td>referenceNumber1</td> <td>'+referenceNumber1+' </td> </tr> <tr> <td>reference1ContactNumber</td> <td>'+reference1ContactNumber+' </td> </tr> <tr> <td>referenceNumber2</td> <td>'+referenceNumber2+' </td> </tr> <tr> <td>reference1ContactNumber</td> <td>'+reference1ContactNumber+' </td> </tr> <tr> <td>creditLimit</td> <td>'+creditLimit+' </td> </tr> <tr> <td>creditDays</td> <td>'+creditDays+' </td> </tr>  </table> </div>'

			var bt="<button type='button' class='btn btn-link' style='color:teal' data-dismiss='modal'>Cancel</button> <button type='submit' onclick='del("+result+")' data-dismiss='modal' class='btn bg-teal-400'>Delete</button>"
			console.log("Ujjwal")
			document.getElementById("blasto").innerHTML=tek;
			document.getElementById("offo").innerHTML=bt;
		});
    }





	async function check(tableData) {
		var gradeData = JSON.parse('<%-JSON.stringify(gradeData)%>');
		var areaData = JSON.parse('<%-JSON.stringify(areaData)%>');
	  
		var table = "<table class='table datatable-basic table-bordered table-striped table-hover' style='table-layout: auto; width: 100%; overflow-x: auto;' id='tbl'> <thead> <th>Customer Name</th> <th>Customer Status</th><th>Area</th> <th>Status</th> <th>Grade</th> <th>Pincode</th> <th>Address</th> <th>Contact</th> </thead> <tbody> ";
	//   console.log("tablData" , custCateg)
		for (var i = 0; i < tableData.length; i++) {
		  table += "<tr>";
		  table += "<td class='customerName'>" + tableData[i].customerName + "</td>";
    // Check if CustomerStatus is null
    if (tableData[i].CustomerStatus !== null) {
        table += "<td class='customerName'>" + tableData[i].CustomerStatus + "</td>";
    } else {
        table += "<td class='customerName'>N/A</td>";
    }		
	  for (var a = 0; a < areaData.length; a++) {
			if (areaData[a].areaId == tableData[i].area) {
			  table += "<td class='area'>" + areaData[a].area + "</td>";
			  break;
			}
		  }
		  table += "<td class='status'>" + tableData[i].status + "</td>";
		  for (var a = 0; a < gradeData.length; a++) {
			if (gradeData[a].gradeId == tableData[i].grade) {
			  table += "<td class='grade'>" + gradeData[a].gradeType + "</td>";
			  break;
			}
		  }
		  table += "<td class='pincode'>" + tableData[i].pincode + "</td>";
		  table += "<td class='address'>" + tableData[i].address + "</td>";
	  
		  // Make AJAX call to fetch contact details using async/await
		  var contactDetails = await fetchContactDetails(tableData[i].customerId);
		  var ct = "<td>";
		  for (var l = 0; l < contactDetails.length; l++) {
			if(l!=0) ct+="<hr>";
			ct += "<p>" + contactDetails[l].designation + "</p>";
			ct += "<p> Mobile : " + contactDetails[l].mobileNumber + "</p>";
			ct += "<p> Email : " + contactDetails[l].email + "</p>";
		  }
		  ct += "</td>";
		  table += ct;
	  
	  
		  table += "</tr>";
		}
	  
		table += "</tbody> </table>";
		document.getElementById("koiBhi").innerHTML = table;
	  
		var button = "<button class='btn-link' onclick=exportData()> Download list</button>";
		document.getElementById("chlna").innerHTML = button;
	  }
	  
	  function fetchContactDetails(customerId) {
		return new Promise(function (resolve, reject) {
		  $.post("/masterCustomer", {
			customerId: customerId,
			op: "filterContact"
		  }, function (data, status) {
			console.log(data);
			console.log(status);
	  
			// Parse the contact details from the response data
			var contactDetails = data.map(function (item) {
			  return {
				customerName: item.customerName,
				designation: item.designation,
				email: item.email,
				mobileNumber: item.mobileNumber
			  };
			});
	  
			// Resolve the promise with the retrieved contact details
			resolve(contactDetails);
		  });
		});
	  }
	  
  
	  
	  
	</script>

	<script>
	
		
		function exportData() {
			var table = document.getElementById("tbl");
			var csvContent = "";
		  
			for (var i = 0; i < table.rows.length; i++) {
			  var row = table.rows[i];
			  for (var j = 0; j < row.cells.length; j++) {
				var cellContent = row.cells[j].innerText;
		  
				// Remove line breaks and escape double quotes within cell content
				cellContent = cellContent.replace(/[\r\n]+/g, " ");
				cellContent = cellContent.replace(/"/g, '""');
		  
				// Enclose cell content in double quotes
				csvContent += '"' + cellContent + '",';
			  }
			  // Add line break after each row
			  csvContent += "\r\n";
			}
		  
			// Remove the trailing comma at the end of each row
			csvContent = csvContent.replace(/,\r\n/g, "\r\n");
		  
			var encodedUri = "data:text/csv;charset=utf-8," + encodeURI(csvContent);
			var link = document.createElement("a");
			link.setAttribute("href", encodedUri);
			link.setAttribute("download", "Master_Customers.csv");
			document.body.appendChild(link);
			link.click();
		  }
		  
	  




	function custInfo(value){
		console.log(value);
		$.post("/masterCustomer",
        {
            value:value,
            op:"cinf"
        },
        function (data, status) {
			
			console.log("data9999999999999999999999999999999999999999" , data)
			console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$")
            console.log(data);
			console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$")
			// console.log(Object.keys(data).length)
			// console.log(data[0].product)
			custmod(data);
            console.log(status);
        }
		)
	}
	</script>
	

	<script>

	function custmod(data)
	{
		
		var productData = <%- JSON.stringify(productData) %>;
console.log("productData" ,productData )
		if(data)
		{
			// area
			const address = `area - ${data.area} district -  ${data.district} zone - ${data.zone} state - ${data.state}`;
			console.log("data1333333333333" ,address  )

			console.log("data" ,data[0].product )
			console.log("data1111111111111111111111" ,data  )
			var index=Object.keys(data).length;
			console.log(index)
			index=index-14;
			console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa")
			var holiname=data[0].customerName
			console.log("holiname");
			console.log(holiname);
			
			var ishuProdTable = "<table id='' class='table datatable-basic table-bordered table-striped table-hover' style='table-layout: auto; width: 100%; overflow-x: auto;'>";
				ishuProdTable += "<thead> <tr> <th class='col-lg-6'>Index</th> <th>Product</th> </tr> </thead>";
				for (let i = 0; i <= index; i++) {
				  ishuProdTable += "<tr>";
				 
				   // Check if data[i].product is defined
    if (data[i] && data[i].product) {
        for (var a = 0; a < productData.length; a++) {
            console.log("data[i].product", data[i].product);
            if (productData[a].productId == data[i].product) {
				ishuProdTable += "<td >"+ (a+1) +"</td>";
                ishuProdTable += "<td> " + productData[a].productName + "</td>";
                break;
            }
        }
    }
				  ishuProdTable += "</tr>";
				  
				}
			ishuProdTable += "</table>";

		 
			
			var	tek="<div><button onclick='getCustomerData(\"" + holiname + "\", " + JSON.stringify(data) + ")' class='btn-light'>Print Customer Details</button> <div class='float-right'> <button class='btn-light' data-toggle='modal' data-target='#modal_edit' data-popup='popover' onclick='eedit(\"" + data.customerId + "customer\")'>Edit</button> <button class='btn-light' data-toggle='modal' data-target='#modal_del' data-popup='popover' onclick='ddel(\"" + data.customerId + "customer\")'>Delete</button> </div> </div> <br> <ul class='nav nav-tabs nav-tabs-solid bg-teal-400 border-0 nav-justified'>"	

			tek+=" <li class='nav-item'><a href='#customer-tab1' class='nav-link active' data-toggle='tab'>Detail</a></li>"

			tek+="<li class='nav-item'><a href='#customer-tab2' class='nav-link' data-toggle='tab' onclick='holiContact("+holiname+")'>Contact</a></li>"	

			tek+="<li class='nav-item'><a href='#customer-tab3' class='nav-link' data-toggle='tab' onclick='holiCategory("+holiname+")'>Category</a></li>"	

			tek+="<li class='nav-item'><a href='#customer-tab4' class='nav-link' data-toggle='tab' onclick='holiFirm("+holiname+")'>Firm</a></li>"	
			
			tek+="<li class='nav-item'><a href='#customer-tab5' class='nav-link' data-toggle='tab'>Product</a></li>"	
			
			tek+="<li class='nav-item' ><a href='#customer-tab6' class='nav-link' data-toggle='tab' onclick='holi("+holiname+")'>Report</a></li>"	

			tek+="</ul> <div class='tab-content'> "	

			tek+="<div class='tab-pane fade show active' id='customer-tab1' style='text-align:center;'> <table class='table datatable-basic table-bordered table-striped table-hover'> <tr> <td>Customer Name</td> <td>"+data.customerName+"</td> </tr> <tr> <td>Area</td> <td>"+address+"</td> </tr> <tr> <td>Status</td> <td>"+data.status+"</td> </tr> <tr> <td>Grade</td> <td>"+data.gradeType+"</td> </tr> <tr> <td>Pincode</td> <td>"+data.pincode+"</td> </tr> <tr> <td>Address</td> <td>"+data.address+"</td> </tr> <tr> <td>REF_NO_1</td> <td>"+data.referenceNumber1+"</td> </tr> <tr> <td>REF_NO_2</td> <td>"+data.referenceNumber2+"</td> </tr> <tr> <td>Credit Limit</td> <td>"+data.creditLimit+"</td> </tr> <tr> <td>Credit Days</td> <td>"+data.creditDays+"</td> </tr> <tr> <td>Customer Status</td> <td>"+data.CustomerStatus+"</td> </tr> </table> </div>"
			
			tek+="<div class='tab-pane fade' id='customer-tab2' style='text-align:center;'> </div> "

			tek+="<div class='tab-pane fade' id='customer-tab3' style='text-align:center;'> </div> "
			
			tek+="<div class='tab-pane fade' id='customer-tab4' style='text-align:center;'> </div> "

			tek+="<div class='tab-pane fade' id='customer-tab5' style='text-align:center;'> "+ishuProdTable+" </div>"
			
			tek+="<div class='tab-pane fade' id='customer-tab6' style='text-align:center;'> <div class='cardRep' id='cardRep'></div> <div class='downloadReport card' id='downloadReport'></div> </div>"


			tek+="</div>"
			
			console.log("llllllllllllllllllllllllllllllllll" )
			document.getElementById("ekdin").innerHTML=tek;
		 
		}
		else
		{
			 
			console.log("llllllllllllllllllllllllllllllllll33333333333333333333333333333" )
			var table="<h5>Verified Master Customer does not exist</h5>"
			document.getElementById("ekdin").innerHTML=table;
			
		}
	}



	function getCustomerData(customerId, customerData) {
    var fData, ctData, cnData;
    var dataLoaded = {
        fData: false,
        ctData: false,
        cnData: false
    };

    function checkDataLoaded() {
        if (dataLoaded.fData && dataLoaded.ctData && dataLoaded.cnData) {
            printFunction(customerId, customerData, fData, ctData, cnData);
        }
    }

    $.post("/masterCustomer", {
        value: customerId,
        op: "customerContact"
    }, function (data, status) {
        console.log(data);
        cnData = data;
        console.log(status);
        dataLoaded.cnData = true;
        checkDataLoaded();
    });

    $.post("/masterCustomer", {
        value: customerId,
        op: "customerCategory"
    }, function (data, status) {
        console.log(data);
        ctData = data;
        console.log(status);
        dataLoaded.ctData = true;
        checkDataLoaded();
    });

    $.post("/masterCustomer", {
        value: customerId,
        op: "customerFirm"
    }, function (data, status) {
        console.log(data);
        fData = data;
        console.log(status);
        dataLoaded.fData = true;
        checkDataLoaded();
    });
}
	  

	  function printFunction(customerId, customerData,fData,ctData,cnData) {
		var productData = <%- JSON.stringify(productData) %>;
		// var productData = JSON.stringify(productData);
		var areaData = JSON.stringify(areaData);
		var gradeData = JSON.stringify(gradeData);
		console.log("printing")
		console.log("customerData" ,customerData)
		console.log("fData" , fData)
		console.log("ctData" ,ctData)
		console.log("cnData", cnData)
		console.log("areaData", areaData)
		console.log("gradeData", gradeData)
		
		var index=Object.keys(customerData).length;
		console.log("customerData1111" , customerData.area , customerData.zone )
		index=index-14;
		var pData=[];
		for (let i = 0; i <= index; i++) {
			for (var a = 0; a < productData.length; a++) {
				if (customerData[i] && customerData[i].product) {
					if (productData[a].productId == customerData[i].product) {
				pData.push(productData[a].productName);
				break;
			  }
				}
			
			}
		  }
		console.log(pData)

		let firms = custFirmPrint(fData);
		console.log("firmssssss" , firms)
		// const firmsData = getfirmsData()
		// function getfirmsData(){
		// 	const arrayData = []
		// 	for(i = 0 ; i < firms.length ; i++){
		// 		const keys = Object.keys(firms[i])
		// 		for(a = 0 ; a < keys.length ; a++){
					

		// 			const data = [keys[a] , firms[i][keys[a]]]
		// 			console.log("item" ,data)
		// 			arrayData.push(data)
		// 		}
		// 	}
		// 	console.log("arrayData",arrayData)
		// return arrayData
		// }
		

// console.log("firmsData" ,firmsData);

	 let category =	custCatPrint(ctData)
	 console.log("category" , category)
	 console.log("firms" , firms)
	 let contacts =	custCntctPrint(cnData)
	 console.log("contacts" , contacts)
	 let customerData1 = {...customerData , area : `${customerData.area}`}
	 // Delete keys '0' and '1' if they exist
delete customerData1['0'];
delete customerData1['1'];
delete customerData1['customerId'];
delete customerData1['grade'];
delete customerData1['areaId'];
delete customerData1['gradeId'];

const frimsDAtaArray = []
const firmDataa = firms.forEach((item) => {
                // Replace null values with a placeholder
				let {key, value} = item
				console.log("dataitem" ,item)
                 console.log("Data , key"  , key , value)
				console.log(Object.keys(item)  , Object.values(item))
				frimsDAtaArray.push(  Object.values(item))
                // return [Object.keys(item)  , Object.values(item) ]
				 
            })
			console.log("firmDAtaa" , frimsDAtaArray)

			const contactDAtaArray = []
			console.log( "contacts111" ,contacts)
			let contactDataa = contacts.forEach((  item) => {
					// Replace null values with a placeholder
					console.log("dataitem", item);

					const data3 = Object.values(item);
					console.log(data3);

					contactDAtaArray.push(data3); // Use push directly without reassigning
					console.log("acc", contactDAtaArray);

					 // Return the updated acc array
				} );

				console.log("contactDataArray", contactDataa); 


console.log("Customerwwwww" ,customerData1)
	 console.log("Customer" ,Object.entries(customerData))
console.log("firms" ,firms)
console.log("firms" ,Object.entries(firms))
		var docDefinition =  {
                content: [
				{text: 'Master Customer Details', style: 'header'},
	  
				// custoer data 
	  {text: 'PROFILE', style: 'subheader'},
	   
	  {
		  style: 'tableExample',
		  table: {
				  widths: [  'auto', 'auto'  ],
			  body:  Object.entries(customerData1).map(([key, value]) => {
                const displayValue = value !== null ? value.toString() : 'N/A';
				return [key, displayValue];
            })	
		  },
		  layout: {
				fillColor: function (rowIndex, node, columnIndex) {
					return (rowIndex % 2 === 0) ? '#CCCCCC' : null;
				}
			}
	  },
   
	 // fData data 
	  {text: 'FIRMS', style: 'subheader'},
	   
	   {
		   style: 'tableExample',
		   table: {
			widths: [ 'auto', 'auto','auto', 'auto' ,'auto', 'auto','auto', 'auto','auto' ],
 			   body: [ ['First Name', 'Address', 'Pincode', 'GST Number', 'Account Number', 'Bank Name', 'IFSC Code', 'Product Produced', 'Quantity'],
				...frimsDAtaArray
			],
				headerRows: 1
			
			 
		   },
		   layout: {
				 fillColor: function (rowIndex, node, columnIndex) {
					 return (rowIndex % 2 === 0) ? '#CCCCCC' : null;
				 }
			 }
	   },

	   	 // cData data 
	  {text: 'CONTACTS', style: 'subheader'},
	   
	   {
		   style: 'tableExample',
		   table: {
			widths: [  '*', '*','*', '*'  ],

 			   body:  [['Contact Name', 'Designation', 'MobileNumber', 'Email' ],
 ...contactDAtaArray],
				headerRows: 1
			
			 
		   },
		   layout: {
				 fillColor: function (rowIndex, node, columnIndex) {
					 return (rowIndex % 2 === 0) ? '#CCCCCC' : null;
				 }
			 }
	   },



//  fData
// ...firms.map((firm) => {

// 	const firmData = []
// 	let arrayData = [{text: 'Firm', style: 'subheader'},   {
// 		   style: 'tableExample',
// 		   table: {
// 				   widths: [ 'auto','auto','auto', 'auto','auto', 'auto','auto', 'auto','auto' ],
// 			   body:[
//                     Object.keys(firms[0]), // Display keys as table headers
//                     ...firms.map((firm) => Object.values(firm).map(value => value.toString()))
//                 ]
//             },
// 		   layout: {
// 				 fillColor: function (rowIndex, node, columnIndex) {
// 					 return (rowIndex % 2 === 0) ? '#CCCCCC' : null;
// 				 }
// 			 }
// 	   }]
		 
// 				const keys = Object.keys(firm)
// 				console.log("keys",keys)
// 				for(a = 0 ; a < keys.length ; a++){
					

// 					const data = [keys[a] , firm[keys[a]]]
// 					console.log("item" ,data)
// 					firmData.push(	data)
					  

// 				}
			 
 
// 	console.log("arrayData" ,arrayData)
			
	 


// 	  return arrayData
// 	}),
//  ctData  category
{text: 'CATEGORY', style: 'subheader', absolutePosition: { x: 400, y:73 }},
	  
	  {
		  style: 'tableExample',
		  table: {
				  widths: ['*'],
			  body:  Object.entries(category ).map(([key, value]) => {
                // Replace null values with a placeholder
                const displayValue = value !== null ? value.toString() : 'N/A';
                return [displayValue];
            })
		  },	
		  layout: {
				fillColor: function (rowIndex, node, columnIndex) {
					return (rowIndex % 2 === 0) ? '#CCCCCC' : null;
				}
			},
			absolutePosition: { x: 400, y: 90 }
	  },
	  //  cnData   contact
// 	  ...contacts.map((contact) => {

// const contactData = []
// let arrayContactData = [{text: 'contacts', style: 'subheader'},   {
// 	   style: 'tableExample',
// 	   table: {
// 			   widths: [  '*', '*', '*', '*' , '*', '*'  ],
// 		   body: [
//                     Object.keys(contacts[0]), // Display keys as table headers
//                     ...contacts.map((contact) => Object.values(contact).map(value => value.toString()))
//                 ]
//             },
// 	   layout: {
// 			 fillColor: function (rowIndex, node, columnIndex) {
// 				 return (rowIndex % 2 === 0) ? '#CCCCCC' : null;
// 			 }
// 		 }
//    }]
	 
// 			const keys = Object.keys(contact)
// 			console.log("keys",keys)
// 			for(a = 0 ; a < keys.length ; a++){
				

// 				const data = [keys[a] , contact[keys[a]]]
// 				console.log("item" ,data)
// 				contactData.push(	data)
				  

// 			}
		 

// console.log("arrayContactData" ,arrayContactData)
		
 


//   return arrayContactData
// }),


	  	  //  pData   contact
{text: 'PRODUCTS', style: 'subheader', absolutePosition: { x: 400, y: 180 }},
	   
	  {
		  style: 'tableExample',
		  table: {
				  widths: ['*'],
			  body:  Object.entries(pData  ).map(([key, value]) => {
                // Replace null values with a placeholder
                const displayValue = value !== null ? value.toString() : 'N/A';
                return [displayValue];
            })
		  },
		  layout: {
				fillColor: function (rowIndex, node, columnIndex) {
					return (rowIndex % 2 === 0) ? '#CCCCCC' : null;
				}
			},
			absolutePosition: { x: 400, y: 197 }
	  },

	   ],
	   styles: {
		header: {
			fontSize: 10,
			bold: true,
			margin: [0, 0, 0, 10],
		 
           
		},
		subheader: {
			fontSize: 7,
			bold: true,
			margin: [0, 10, 0, 5]
		},
		tableExample: {
			margin: [0, 5, 0, 10],
			fontSize:9
		},
		tableHeader: {
			bold: true,
			fontSize: 6,
			color: 'black'
		},
	},
	//pageOrientation: 'landscape',
};
                        
			console.log()

		pdfMake.createPdf(docDefinition).download();
}	 
		  console.log("documentDefinition" ,pData)
		//   $.post("/masterCustomer", {
		// 	value: customerId,
		// 	documentDefinition: pData,
		// 	op: "printReport"
		//   }, function(data, status) {
		// 	alert(data)
		// 	console.log(data);
		// 	console.log("status " , status);
		//   });


	  

	function holi (value)
	{
		console.log("hhhhhhhhhhhhhhooooooooooooooolllllllllliiiiiiiiii");
		console.log(value);
		$.post("/masterCustomer",
        {
            value:value,
            op:"marktrep"
        },
        function (data, status) {
			console.log("***********************************************")
            console.log(data);
			console.log("***********************************************")
			markrep(data);
            console.log(status);
        }
		)
	}

	function holiContact(value)
	{
		console.log("finding customer contact")
		$.post("/masterCustomer",
        {
            value:value,
            op:"customerContact"
        },
        function (data, status) {
            console.log(data);
			custCntct(data);
            console.log(status);
        }
		)
	}
	
	function holiCategory(value)
	{
		console.log("finding customer category")
		$.post("/masterCustomer",
        {
            value:value,
            op:"customerCategory"
        },
        function (data, status) {
            console.log(data);
			custCat(data);
            console.log(status);
        }
		)
	}
	
	function holiFirm(value)
	{
		console.log("finding customer firm")
		$.post("/masterCustomer",
        {
            value:value,
            op:"customerFirm"
        },
        function (data, status) {
            console.log(data);
			custFirm(data);
            console.log(status);
        }
		)
	}

	function custCntct(cntctdata)
	{
		console.log("yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy")
		console.log(cntctdata)
		if(cntctdata)
		{
			var holi="<table id='' class='table datatable-basic table-bordered table-striped table-hover' style='table-layout: auto; width: 100%; overflow-x: auto;'>";
			
			holi+="<thead> <tr> <th>Index</th> <th>Contact Name </th> <th>Designation</th> <th>Mobile Number</th> <th>Email</th> </tr> </thead>";
			
			for(var i=0; i<cntctdata.length; i++)
			{
				holi+="<tr>"
				holi+="<td >"+ (i+1) +"</td>"
				holi+="<td >"+ cntctdata[i].contactName+"</td>"
				holi+="<td >"+ cntctdata[i].designation+"</td>"
				holi+="<td >"+ cntctdata[i].mobileNumber+"</td>"
				holi+="<td >"+ cntctdata[i].email+"</td>"
				holi+="</tr>"
			}
			holi+="</table>";
			
			document.getElementById("customer-tab2").innerHTML=holi;
		}
		else
		{
			var holi="<h3>NO data </h3>";
			document.getElementById("customer-tab2").innerHTML=holi;
		}
	}
	function custCat(catdata)
	{
		var categorydata = JSON.parse('<%-JSON.stringify(categorydata)%>');
		console.log("yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy")
		console.log(catdata)
		if(catdata)
		{
			var holi="<table id='' class='table datatable-basic table-bordered table-striped table-hover' style='table-layout: auto; width: 100%; overflow-x: auto;'>";
			
			holi+="<thead> <tr> <th class='col-lg-6'>Index</th> <th>Category</th> </tr> </thead>";
			
			for(var i=0; i<catdata.length; i++)
			{
				holi+="<tr>"
				holi+="<td >"+ (i+1) +"</td>"
				for (var a = 0; a < categorydata.length; a++) {
					if (categorydata[a].categoriesId == catdata[i].category) {
					  holi += "<td> " + categorydata[a].categoriesType+ "</td>";
					  break;
					}
				  }
				holi+="</tr>"
			}
			holi+="</table>";
			
			document.getElementById("customer-tab3").innerHTML=holi;
		}
		else
		{
			var holi="<h3>NO data </h3>";
			document.getElementById("customer-tab3").innerHTML=holi;
		}
	}
	function custFirm(firmdata)
	{
		var firmData = JSON.parse('<%-JSON.stringify(firmData)%>');
		console.log("yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy")
		console.log("firmdataaaaa" ,firmdata)
		if(firmdata)
		{
			var holi="<table id='' class='table datatable-basic table-bordered table-striped table-hover' style='table-layout: auto; width: 100%; overflow-x: auto;'>";
			
			holi+="<thead> <tr> <th>Index</th> <th>Firm Name</th> <th>Address</th> <th>Pincode</th> <th>GST Number</th> <th>Account Number</th> <th>Bank Name</th> <th>IFSC Code</th> <th>Product Produced</th> <th>Quantity</th> </tr> </thead>";
			
			for(var i=0; i<firmdata.length; i++)
			{
				holi+="<tr>"
				holi+="<td >"+ (i+1) +"</td>"
				for (var a = 0; a < firmData.length; a++) {
					if (firmData[a].firmId == firmdata[i].firm) {
					  holi += "<td> " + firmData[a].firmName+ "</td>";
					  holi += "<td> " + firmData[a].address+ "</td>";
					  holi += "<td> " + firmData[a].pincode+ "</td>";
					  holi += "<td> " + firmData[a].GSTNumber+ "</td>";
					  holi += "<td> " + firmData[a].accountNumber+ "</td>";
					  holi += "<td> " + firmData[a].bankName+ "</td>";
					  holi += "<td> " + firmData[a].IFSCcode+ "</td>";
					  holi += "<td> " + firmData[a].ProductProduced+ "</td>";
					  holi += "<td> " + firmData[a].Quantity+ "</td>";
					  break;
					}
				}
				holi+="</tr>"
			}
			holi+="</table>";
			
			document.getElementById("customer-tab4").innerHTML=holi;
		}
		else
		{
			var holi="<h3>NO data </h3>";
			document.getElementById("customer-tab4").innerHTML=holi;
		}
	}
	function markrep(repdata)
	{
		console.log(repdata)
		if(repdata)
		{
			var holi="<table id='tRep' class='table repdatatable-basic table-bordered table-striped table-hover' style='table-layout: auto; width: 100%; overflow-x: auto;'>";
			
			holi+="<thead> <tr> <th>area</th> <th>product</th> <th>lastDelivery</th> <th>representative</th> <th>currentRemark</th> <th>remarkStatus</th> <th>currentIssue</th> </tr> </thead>";
			
			for(var i=0; i<repdata.length; i++)
			{
				holi+="<tr>"
				holi+="<td >"+ repdata[i].area+"</td>"
				holi+="<td >"+ repdata[i].product+"</td>"
				holi+="<td >"+ repdata[i].lastDelivery+"</td>"
				holi+="<td >"+ repdata[i].representative+"</td>"
				holi+="<td >"+ repdata[i].currentRemark+"</td>"
				holi+="<td >"+ repdata[i].remarkStatus+"</td>"
				holi+="<td >"+ repdata[i].currentIssue+"</td>"
				holi+="</tr>"
			}
			holi+="</table>";
			
			document.getElementById("cardRep").innerHTML=holi;

			var hbtn="<button class='btn-link' onclick=exportReport()> Download list</button>"

			document.getElementById("downloadReport").innerHTML=hbtn;
		}
		else
		{
			var holi="<h3>NO data </h3>";
			document.getElementById("cardRep").innerHTML=holi;
		}
	}

	function exportReport()
	{
			console.log("a")
			
			var table = document.getElementById("tRep");
			console.log(table)

			
			var rows =[];
 
      
			for(var i=0,row; row = table.rows[i];i++){
				
				column1 = row.cells[0].innerText;
				column2 = row.cells[1].innerText;
				column3 = row.cells[2].innerText;
				column4 = row.cells[3].innerText;
				column5 = row.cells[4].innerText;
				column6 = row.cells[5].innerText;
				column7 = row.cells[6].innerText;
				rows.push(
					[
						column1,
						column2,
						column3,
						column4,
						column5,
						column6,
						column7
					]
				);
 
        	}

			console.log(rows)
        	csvContent = "data:text/csv;charset=utf-8,";
         
			rows.forEach(function(rowArray){
				row = rowArray.join(",");
				csvContent += row + "\r\n";
			});
 
			var encodedUri = encodeURI(csvContent);
			var link = document.createElement("a");
			link.setAttribute("href", encodedUri);
			link.setAttribute("download", "Market_Report.csv");
			document.body.appendChild(link);
			link.click();
	}
	
function custFirmPrint(firmdata) {
    var firmData = JSON.parse('<%-JSON.stringify(firmData)%>');
    var firmDetails = [];

    if (firmdata) {
        for (var i = 0; i < firmdata.length; i++) {
            for (var a = 0; a < firmData.length; a++) {
                if (firmData[a].firmId == firmdata[i].firm) {
                    var firmDetailsArray = {};

                    firmDetailsArray["firstName"] = decodeURIComponent(firmData[a].firmName),
                    firmDetailsArray["Address"] = decodeURIComponent(firmData[a].address),
                    firmDetailsArray["Pincode"] = decodeURIComponent(firmData[a].pincode),
                    firmDetailsArray["GSTNumber"] = decodeURIComponent(firmData[a].GSTNumber),
                    firmDetailsArray["AccountNumber"] = decodeURIComponent(firmData[a].accountNumber),
                    firmDetailsArray["BankName"] = decodeURIComponent(firmData[a].bankName),
                    firmDetailsArray["IFSCCode"] = decodeURIComponent(firmData[a].IFSCcode),
                    firmDetailsArray["Produced"] = decodeURIComponent(firmData[a].ProductProduced),
                    firmDetailsArray["Quantity"] = decodeURIComponent(firmData[a].Quantity);
                    
                    firmDetails.push(firmDetailsArray);
                }
            }
        }

        return firmDetails;
    } else {
        return null;
    }
}


	
// 	function custFirmPrint(firmdata) {
//     var firmData = JSON.parse('<%-JSON.stringify(firmData)%>');
//     var firms = []; // Initialize an empty array to store firm details

//     if (firmdata) {
//         for (var i = 0; i < firmdata.length; i++) {
//             for (var a = 0; a < firmData.length; a++) {
//                 if (firmData[a].firmId == firmdata[i].firm) {
//                     // Create a new firm object and push it to the firms array
//                     firms.push({
//                         firmName: firmData[a].firmName,
//                         address: firmData[a].address,
//                         pincode: firmData[a].pincode,
//                         GSTNumber: firmData[a].GSTNumber,
//                         accountNumber: firmData[a].accountNumber,
//                         bankName: firmData[a].bankName,
//                         IFSCcode: firmData[a].IFSCcode
//                     });
//                 }
//             }
//         }

//         return firms; // Return the array of firm objects
//     } else {
//         // Handle the case when firmdata is falsy (null or undefined)
//         return null;
//     }
// }

function custCatPrint(catdata) {
    var categorydata = JSON.parse('<%-JSON.stringify(categorydata)%>');
    console.log("categorydata", categorydata)
    if (catdata) {
        let categories = [];

        for (var i = 0; i < catdata.length; i++) {
            for (var a = 0; a < categorydata.length; a++) {
                if (categorydata[a].categoriesId == catdata[i].category) {
                    categories.push(categorydata[a].categoriesType);
                }
            }
        }

        return categories;
    } else {
        return null;
    }
}

function custCntctPrint(cntctdata) {
    if (cntctdata) {
        let contacts =[];
        for (var i = 0; i < cntctdata.length; i++) {
			let contactDetails = {}
			contactDetails['contactName'] = cntctdata[i].contactName
			contactDetails['Designation'] = cntctdata[i].designation
			contactDetails['MobileNumber'] = cntctdata[i].mobileNumber
			contactDetails['Email'] = cntctdata[i].email
          
			contacts.push( contactDetails)
        }
        return contacts;
    } else {
        return null;
    }
        }
   
//  function custCntctPrint(cntctdata)
// 	{
// 		let contacts = {};
// 		if(cntctdata)
// 		{
			 
// 			for(var i=0; i<cntctdata.length; i++)
// 			{
// 				contacts.contactName = cntctdata[i].contactName
// 				contacts.designation =  cntctdata[i].designation 
// 				contacts.mobileNumber = cntctdata[i].mobileNumber 
// 				contacts.email =  cntctdata[i].email 				 
// 			}
		 
// 			return contacts
// 		}
// 		else
// 		{
// 			return null; 
// 		}
// 	}
	
</script>
